@inherits UmbracoTemplatePage
@{
    var carouselImages = (dynamic)ViewData["carouselImages"];
    var id = GeneralHelpers.GenerateId("carouselItems");
}

@if (carouselImages.Count() > 0)
{
    <div class="row">
        <div class="-1u 10u">
            <div id="@id" class="carousel-wrapper">
                <div class="owl-carousel-prev not-mobile"></div>
                <div class="owl-carousel">
                    @foreach (var image in carouselImages)
                    {
                        <img class="lazyOwl image" data-src="@image.Url" />
                    }
                </div>
                <div class="owl-carousel-next not-mobile"></div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            var carouselWrapper = $("#@id");
            var carousel = carouselWrapper.find('.owl-carousel');
            carousel.owlCarousel({
                singleItem: true,
                lazyLoad: true
            });
            carouselWrapper.find('.owl-carousel-prev').click(function () {
                carousel.trigger('owl.prev');
            });
            carouselWrapper.find('.owl-carousel-next').click(function () {
                carousel.trigger('owl.next');
            });
        });
    </script>
}